last_order.md

 현재 폴더에 '엑시트컴퍼니(Exit Company)' 관리자용 대시보드를 React와 Tailwind CSS로 구현해줘. 
시각적 디자인 가이드와 텍스트 데이터는 아래 내용을 엄격히 준수해라.

1. 기술 스택: React, Tailwind CSS, Lucide-react(아이콘용)
2. 전체 레이아웃: 
   - 좌측: 다크 블루(#1e293b) 사이드바 (홈, 회원관리, 정산, 설정 아이콘 포함)
   - 메인: 라이트 그레이 배경에 4개의 화이트 카드(Shadow 효과) 그리드 배치

3. 패널별 상세 구현:
   - [패널 1: 월별 운영 요약 보고]
     데이터: 총 입금액(₩34,500,000), 총 지출액(₩21,300,000), 월간 순익(₩13,200,000)
     특이사항: 최다 이용 회원 TOP 3(박명수, 김종국, 유재석) 및 심플한 Bar Chart 포함.
   - [패널 2: 일일 결산 리포트]
     데이터: 금일 입금(₩850,000), 출금(₩210,000), 순익(+₩640,000)
     UI: [경리 승인 대기 (3건)] 강조 버튼 배치.
   - [패널 3: 직원 업무 패널]
     좌측: 회원 검색 및 심부름/베팅 등록 폼 (라디오 버튼, 입력창, 등록 버튼)
     우측: 업무 현황 리스트 (박명수-처리중, 김종국-사장님 승인 대기중(주황색 강조), 유재석-완료)
   - [패널 4: 사장님 통합 관리 패널]
     상단: 이체 대기 건수 및 리스크 상태 표시.
     리스트: 미처리 이체(홍길동 영치금 ₩150,000), 베팅 승인(김종국 NBA ₩200,000). 각 항목에 [승인], [반려] 버튼 배치.

이 모든 내용을 한 페이지(`Dashboard.js`)에 깨진 글자 없이 완벽한 한글로 구현하고, 바로 브라우저에서 확인할 수 있도록 코드를 작성해줘.

[역할 설정] 너는 React와 Tailwind CSS를 능숙하게 다루는 시니어 UI/UX 디자이너이자 프론트엔드 개발자야. 내가 제공하는 대시보드 시안 이미지를 참고해서, **'엑시트컴퍼니(Exit Company)'**라는 비즈니스 관리용 대시보드를 현대적이고 깔끔하게 재구현해줘.

[비즈니스 맥락] 이 회사는 스포츠 데이터 관리, 베팅 정산, 그리고 특수 심부름(영치금 입금 등) 서비스를 운영하는 곳이야. 신뢰도 높은 금융/어드민 시스템 느낌이 나야 해.

[UI/UX 디자인 가이드]

레이아웃: 4분할 그리드 대시보드 형태. 좌측에는 다크 블루 톤의 사이드바 메뉴가 있어야 함.

색상: 신뢰감을 주는 Deep Blue(#1e293b), 포인트 컬러로 정산 수익은 Green, 지출/리스크는 Red/Orange 사용.

컴포넌트: 각 패널은 그림자 효과(Shadow)가 들어간 깔끔한 화이트 카드 형태여야 함.

[패널별 데이터 세부 정보 - 이미지 내 오타 수정본]

패널 1: 월별 운영 요약 보고 (Monthly Summary)

타이틀: 2026년 1월 (Jan, 2026)

지표: 총 입금액(₩34,500,000), 총 지출액(₩21,300,000, 전월 대비 +12.5% 증가), 월간 순이익(₩13,200,000)

그래프: 최다 이용 회원 TOP 3 (박명수 35%, 김종국 15%, 유재석 신규) 통계를 보여주는 심플한 막대그래프 포함.

패널 2: 일일 결산 리포트 (Daily Report)

타이틀: 2026.01.28 (오늘 날짜 기준)

지표: 금일 총 입금(₩850,000), 금일 총 출금(₩210,000), 금일 순이익(+₩640,000)

액션: [경리 승인 대기 (3건)] 버튼 강조.

패널 3: 직원 업무 패널 (Staff Task)

기능 1: '심부름/스포츠 베팅' 내용 등록 폼 (회원 검색, 구분 선택, 세부 내용 입력란).

기능 2: 나의 업무 현황 리스트 (M-0012 박명수 서류 발급 처리 중, M-0005 김종국 베팅 승인 대기 중 등).

패널 4: 사장님 전용 관리 패널 (Admin Panel)

상단: 오늘의 이체 대기 건수 및 실시간 리스크(보통) 인디케이터.

리스트: 미처리 이체/승인 목록 (홍길동 영치금 입금 건 ₩150,000, 김종국 NBA 베팅 승인 건 ₩200,000). 각 항목에 [승인], [반려] 버튼 배치.

[출력 요청] 위 내용을 바탕으로 React 컴포넌트(Tailwind CSS 사용) 코드를 생성하고, Claude Artifacts를 통해 시각화된 대시보드를 보여줘. 텍스트는 깨진 글자 없이 내가 제공한 수정본으로 정확하게 반영해줘.


현재 작업 중인 '엑시트컴퍼니' 대시보드의 프론트엔드 코드를 분석하고, 이에 완벽하게 대응하는 백엔드 시스템을 구축하여 전체 사이트를 완성해라. 이 작업은 멈춤 없이 아래 단계에 따라 자동으로 진행해줘.

[1단계: 코드 분석 및 DB 설계]
1. 기존 Dashboard 관련 프론트엔드 파일을 읽고 필요한 데이터 스키마(회원, 베팅 내역, 입출금 현황, 심부름 내역)를 파악해라.
2. Node.js(Express)와 SQLite(또는 로컬 DB)를 사용하여 백엔드 환경을 구축해라.
3. 특히 '배당률 -0.1 차감' 정책과 '회원별 예치금 잔액 관리' 로직이 백엔드에서 정확히 처리되도록 DB 모델을 설계해라.

[2단계: API 구축 및 비즈니스 로직 구현]
1. 다음 기능을 위한 REST API 엔드포인트를 모두 작성해라:
   - 전체 자금 및 월별/일별 통계 데이터 조회
   - 심부름 및 스포츠 베팅 내역 등록/조회
   - 사장님 전용 이체 승인 및 베팅 승인/반려 기능 (잔액 연동 포함)
   - 티켓 기능 및 회원 관리(신규 회원 등록/티켓 등록) 기능의 완벽화
   - 도서 발주 기능들과 배팅 업무 창에서 크롤링 기능들
   - 답변 일괄 출력 (pdf로 자동 다운로드 되어 인쇄)
   - 당첨/포인트충전 등의 업무 시 자동알림 설정 및 일일 답변 일괄 출력 시 포함되어 출력되게끔.
   - 일일 마감 기능 및 티켓 업무 처리 과정에서 직원이 처리, 이사 이상이 승인하며 진행되는 절차를 구현
   - 마감 처리 전까지는 각자 미처리 티켓이 떠서 끝까지 팔로우업 할 수 있는 환경 단 하나의 업무도 놓치지 않게끔
특히 발주/물품구매판매대행/배팅 등이 업무의 흐름이 다르니 그에 따라 각 업무에 필요한 기능들을 스스로 찾아서 확인하고 보완해서 완벽히 만들고.
   - 기본적으로 "편지 수령(현실) -> 편지 사진 촬영(지금부터 웹) -> OCR 처리 -> 검수 및 담당자 배정 -> 업무 처리 시작 -> 업무 처리 중 -> 일일 마감 -> 일괄 출력(마감 처리 되지않고 등록된 답변들도 포함) -> 포장 및 발송(현실)"의 업무 과정을 기억하고 이에 맞게 필요한 기능들과 보완할 점을 스스로 찾고 완벽히 구현해라. 부수적으로 필요한 기능들을 스스로 모두 포함시키고 백엔드와 프론트엔드를 모두 완벽히 구현하고 연동해라.
   - 회원별로 사용한 포인트의 기록들, 모든 티켓들이 한 번에 조회가 되는 창이 있어야 하고 회원 관리 및 기록에 편의성을 초점을 맞춘 시스템을 구현해라. 지금의 시스템에서 완벽히 연동시키고 시스템을 완벽히 업그레이드 하는 방향으로.
   - 그리고 직원 -> 이사 -> 대표의 계급 체계를 확실히 하고, 직원은 신청-실무처리가 가능하고 마감 같은 결재해주는 업무는 이사급 이상부터. 확정된 내용을 삭제-수정하는 것은 대표만 가능하게 한다는 틀을 확실히 하고, 감사용 기록을 잘 연결시켜두어라.
   - 부수적으로 필요한 직원 출퇴근, 비품의 출납 등을 포함하는 "업무 보고" 기능을 점검하고 각종 기능들과 완벽히 연동시켜두어라.
   - 직원의 대시보드 가 곧 업무패널이 되게하여 업무 패널에서 자신의 배정된 업무를 팔로우업하고 처리할 수 있게끔 해라.
   - 이사 이상의 대시보드에서는 마찬가지로 역할에 맞는 필요한 참고 내용들을 팔로우업 할 수 있게하고, 지금의 기능을 점검하고 필요한 것을 추가하며 보완하되 지금의 형태에서 업그레이드 시키는 방향으로 완성해두어라.
2. 모든 API는 예외 처리를 철저히 하여 서버 다운이 없도록 해라.

[3단계: 프론트-백엔드 연동]
1. 프론트엔드의 Mock Data(가짜 데이터)를 모두 제거하고, 실제 작성한 백엔드 API를 fetch/axios로 연결해라.
2. 데이터 변경 시 대시보드 UI가 실시간으로 반영(Re-validation)되도록 처리해라.
3. 대시보드의 '승인' 버튼 클릭 시 실제로 DB 잔액이 차감되거나 환급금이 입금되는 로직을 완성해라.

[4단계: 마무리 및 안정화]
1. 사이트 전체를 구동해보고 오류가 발생하는 곳을 스스로 찾아 디버깅해라.
2. '사장님 운영 통합 관리 패널'에서 모든 승인 절차가 완벽하게 작동하는지 최종 점검해라.
3. 완료되면 서버 실행 방법과 최종 상태를 보고해라.

지금 바로 1단계부터 시작해. 필요한 라이브러리 설치가 필요하면 스스로 판단해서 진행해라.
모든 개발은 완수할 때까지 무한히 시도하고 필히 성공시키며, 중간에 나한테 아무것도 묻지말고 네 스스로의 판단에 맞춰서 계속해라. 나는 결과만 받아보겠다.

[최종 목표: 엑시트컴퍼니 통합 관리 시스템 'Exit-Master' 완벽 구축]

너는 이제부터 엑시트컴퍼니의 CTO로서, 아래의 비즈니스 로직을 프론트엔드부터 백엔드까지 한 치의 오차 없이 구현한다. 중간에 멈추거나 질문하지 말고, 스스로 판단하여 모든 기능을 'Production-Ready' 상태로 완성해라.

1. 업무 워크플로우 엔진 구현:
   - "현실 편지 수령 -> 사진 촬영/업로드 -> OCR 데이터 추출 -> 담당자 자동/수동 배정 -> 업무 처리(베팅/발주/대행) -> 이사 승인 -> 일일 마감 -> 일괄 PDF 출력/인쇄 -> 포장 발송"
   - 마감 전 미처리 티켓은 대시보드 상단에 붉은색으로 강조하여 절대 누락되지 않게 하라.

2. 비즈니스 로직 및 API:
   - 스포츠 베팅: '평균 배당률 -0.1' 자동 계산 로직 및 결과 입력 시 회원 잔액 자동 정산.
   - 물품 구매/판매 대행: 발주서 생성, 배송 상태 추적 기능 연동.
   - 회원 관리: 포인트 히스토리(입출금 내역), 전체 티켓 이력 통합 조회 창 구축.
   - 권한 체계: [직원: 처리] -> [이사: 승인/마감] -> [대표: 수정/삭제/감사]. 모든 행동은 'Audit Log' 테이블에 기록하라.

3. 기술 요구사항:
   - 상태 관리: React Query(TanStack Query)를 사용하여 실시간 데이터 동기화 및 캐싱 처리.
   - 백엔드: Node.js/Express 기반, SQLite/PostgreSQL 사용. 금융 데이터는 DB Transaction 필수 적용.
   - 알림: 당첨, 충전, 승인 요청 시 브라우저 푸시 알림 및 대시보드 내 실시간 알림창 구현.
   - 리포트: 일일 마감 시 당일 모든 업무 답변 내용을 포함한 통합 PDF 자동 생성 및 다운로드 기능.

4. 부가 기능 연동:
   - 직원 근태 관리(출퇴근 버튼) 및 비품 출납 현황을 업무 보고 대시보드와 통합.
   - 업무 성격(베팅 vs 대행 vs 발주)에 따라 입력 폼과 처리 프로세스가 동적으로 변하게 설계.

[실행 지시]
- Mock Data를 모두 삭제하고 실제 DB 연동 코드로 작성하라.
- 스스로 오류를 찾기 위한 Test Code를 작성하거나 직접 구동하며 디버깅하라.
- 완료 후 서버 실행 명령어와 관리자 초기 계정 정보를 보고하라.

지금 즉시 1단계 환경 설정부터 최종 배포 직전 단계까지 무한 루프로 작업을 완수해라.


. 데이터 무결성을 위한 '트랜잭션(Transaction)' 처리
지시: "금융 관련 모든 API(입출금, 잔액 차감, 환급)는 데이터베이스 트랜잭션을 적용해라. 통신 오류나 시스템 중단 시에도 데이터가 꼬이지 않도록 원자성(Atomicity)을 보장해야 한다."

이유: 돈이 오가는 시스템에서 서버가 다운되었을 때 돈만 깎이고 기록이 안 남는 상황을 방지합니다.

2. 실시간 상태 동기화 (WebSockets/SSE)
지시: "단순한 Re-validation을 넘어, '이사급 승인'이나 '신규 티켓 등록' 같은 중요 이벤트는 Server-Sent Events(SSE) 또는 Socket.io를 사용하여 모든 접속 중인 직원/관리자 화면에 즉각적으로(알림음과 함께) 반영되게 해라."

이유: "하나의 업무도 놓치지 않게" 하기 위해서는 새로고침 없이도 실시간 알림이 뜨는 것이 핵심입니다.

3. PDF 출력 및 OCR 엔진 구체화
지시: "PDF 생성에는 jspdf 또는 react-to-print를 사용하고, 출력 양식은 '우편 편지용 정규 규격'에 맞춰라. OCR 기능은 Tesseract.js를 사용하거나 Google Vision API 연동 규격을 미리 잡아두어라."

이유: 실제 인쇄물과 웹 데이터가 일치해야 하므로 출력 규격 설정이 필수적입니다.

4. 계급별 접근 제어 (RBAC - Role Based Access Control)
지시: "프론트엔드 라우트 보호뿐만 아니라 백엔드 미들웨어 단계에서 JWT 토큰의 권한을 확인하여, 직원이 승인 API를 호출하거나 대표 전용 수정 API를 호출하는 행위를 원천 차단해라."

이유: 보안 사고 및 감사 기록의 신뢰성을 위해 필요합니다.d

