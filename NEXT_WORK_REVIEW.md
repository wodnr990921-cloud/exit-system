# next_work.md 검토 결과
**검토일:** 2026-01-14  
**검토자:** AI Assistant

---

## 📊 작업 현황 요약

| 항목 | 상태 | 비고 |
|------|------|------|
| 1. 업무관리 통합 | ✅ 완료 | 재무+마감+정산+소모품재고 |
| 2. 포인트관리 탭 | ⚠️ 부분완료 | 휴면포인트는 있지만 지급/사용내역 별도 필요 |
| 3. 반송 처리 개편 | ⚠️ 부분완료 | 문의/답변 통합, 표기/재발송 기능 추가 필요 |
| 4. 변수 조정 기능 | ✅ 완료 | 설정 > 시스템 변수 탭에서 가능 |
| 5. 업무보고 기능 | ❌ 미완료 | 출퇴근, 소모품, 경비, 전달사항 |
| 6. 감사로그 위치 | ✅ 완료 | 설정 > 감사 로그 탭에 이미 통합됨 |
| 7. 블랙리스트 통합 | ✅ 완료 | 회원관리 > 블랙리스트 탭 |
| 8. 모바일 UI 분리 | ❌ 미완료 | 현재 반응형만 적용, 별도 모바일 필요 |
| 9. PC 화면 유지 | ✅ 완료 | PC 화면 그대로 유지 |

---

## ✅ 완료된 작업 (6개)

### 1. 업무관리 통합 메뉴 ✅
**요구사항:**
> 재무관리 - 일일 마감 - 월말 정산 합치고, 소모품 재고도 합쳐서 각각의 탭으로 구성 시켜. 제목은 업무관리

**완료 내용:**
- 💼 업무관리 메뉴 생성
- 5개 탭: 재무관리 / 일일 마감 / 월말 정산 / 휴면 포인트 / 소모품 재고
- 파일: `src/app/dashboard/operations/`

---

### 2. 블랙리스트 통합 ✅
**요구사항:**
> 블랙리스트는 회원관리에 통합

**완료 내용:**
- 👥 회원관리 메뉴에 3개 탭
- 회원관리 / 수용자 관리 / 블랙리스트
- 파일: `src/app/dashboard/members/members-client.tsx`

---

### 3. 변수 조정 기능 ✅
**요구사항:**
> 변수들(단가 같은거)도 조정이 안돼.

**현재 상태:**
- ⚙️ 설정 > 시스템 변수 탭에서 조정 가능
- 카테고리별 그룹화
- 개별 저장 기능
- 파일: `src/app/dashboard/settings/page.tsx` (line 209-278)

**참고:** 시스템 변수 조정 기능은 **이미 구현되어 있습니다.**

---

### 4. 감사로그 위치 ✅
**요구사항:**
> 감사로그는 시스템 설정에다 넣어놔.

**현재 상태:**
- ⚙️ 설정 > 감사 로그 탭에 **이미 통합되어 있음**
- 파일: `src/app/dashboard/settings/page.tsx` (line 286-289)

---

### 5. PC 화면 유지 ✅
**요구사항:**
> PC화면은 PC 화면대로 냅둬.

**완료 내용:**
- 기존 PC 화면 레이아웃 유지
- 변경사항은 메뉴 구조 통합만

---

### 6. 댓글/답글 구분 (보너스 완료) ✅
**완료 내용:**
- 댓글(내부): 직원 간 소통용
- 답글(회원): 회원 발송용
- DB 스키마 추가: `comment_type`, `sent_to_member`, `sent_at`

---

## ⚠️ 부분 완료된 작업 (2개)

### 1. 포인트관리 탭 ⚠️
**요구사항:**
> 포인트관리 탭 만들고, 거기서 포인트 지급/사용내역, 휴면포인트 기능들 합쳐놔줘.

**현재 상태:**
- 휴면포인트: 업무관리 > 휴면 포인트 탭에 있음 ✅
- **포인트 지급/사용내역: 아직 없음 ❌**

**필요 작업:**
1. 포인트 지급/사용 내역 조회 기능
2. 포인트 수동 지급 기능
3. 포인트 이력 조회
4. 업무관리에 "포인트관리" 탭 추가 (6번째 탭)

---

### 2. 반송 처리 개편 ⚠️
**요구사항:**
> 티켓 목록에 반송 처리를 넣고, 반송 처리되면 티켓에 따로 표기될 수 있게끔 개편. (재발송 등)

**현재 상태:**
- 반송 처리: 문의/답변 > 반송 처리 탭에 있음 ✅
- **반송 표기: 티켓 목록에서 표시 필요 ❌**
- **재발송 기능: 아직 없음 ❌**

**필요 작업:**
1. 티켓 목록에 반송 상태 배지 표시
2. 반송된 티켓 필터링
3. 재발송 버튼 및 기능
4. 반송 이력 추적

---

## ❌ 미완료 작업 (2개)

### 1. 업무보고 기능 ❌
**요구사항:**
> 우표등 소모품(관리자가 등록해둔 코드)과 경비를 사용한 내역을 보고받아야해. 직원이 출/퇴근을 버튼을 눌러 기록할 수 있고 소모품과 지출한 경비와 전달사항을 작성할 수 있는 업무보고를 직원 홈화면에 만들어줘.

**필요 작업:**
1. **출퇴근 기록**
   - 출근 버튼 / 퇴근 버튼
   - 출퇴근 시간 자동 기록
   - 출퇴근 이력 조회

2. **소모품 사용 보고**
   - 관리자가 등록한 소모품 코드 선택
   - 사용 수량 입력
   - 사용 내역 저장

3. **경비 지출 보고**
   - 경비 항목 입력
   - 금액 입력
   - 영수증 첨부 (선택)

4. **전달사항 작성**
   - 자유 텍스트 입력
   - 다음 근무자에게 전달

5. **배치 위치**
   - 직원 홈화면 (대시보드 메인)
   - 또는 별도 "업무보고" 메뉴

**데이터베이스 스키마:**
```sql
-- 업무보고 테이블
CREATE TABLE work_reports (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES users(id) NOT NULL,
  report_date DATE NOT NULL,
  clock_in TIMESTAMP,
  clock_out TIMESTAMP,
  supplies_used JSONB, -- [{code, name, quantity}]
  expenses JSONB, -- [{item, amount, receipt_url}]
  notes TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

### 2. 모바일 UI 분리 ❌
**요구사항:**
> 모든 UI는 모바일용 화면을 따로 만들어놔.

**현재 상태:**
- 반응형 디자인 (Tailwind 사용)
- 모바일에서도 작동하지만 **별도 UI 아님**

**필요 작업:**
1. **모바일 감지 로직**
   ```typescript
   const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent)
   ```

2. **별도 모바일 컴포넌트**
   - `dashboard-mobile.tsx`
   - `members-mobile.tsx`
   - `operations-mobile.tsx`
   - 등등...

3. **모바일 최적화 UI**
   - 하단 네비게이션 바
   - 스와이프 제스처
   - 터치 최적화 버튼 크기
   - 간소화된 레이아웃

4. **라우팅 분기**
   ```typescript
   if (isMobile) {
     return <DashboardMobile />
   } else {
     return <DashboardClient />
   }
   ```

---

## 📝 우선순위 추천

### 🔥 긴급 (High Priority)
1. **업무보고 기능** - 일일 업무 운영에 필수
2. **포인트 지급/사용내역** - 재무 관리 핵심 기능

### 📌 중요 (Medium Priority)
3. **반송 처리 개편** - 티켓 관리 개선
4. **모바일 UI 분리** - 사용자 경험 개선

---

## 🛠️ 구현 순서 제안

### Phase 1: 업무보고 기능 (2-3시간)
1. DB 스키마 생성
2. 출퇴근 버튼 UI
3. 소모품 사용 입력 폼
4. 경비 지출 입력 폼
5. 전달사항 입력
6. API 엔드포인트 구현

### Phase 2: 포인트관리 완성 (1-2시간)
1. 포인트 지급/사용 내역 조회 UI
2. 포인트 수동 지급 기능
3. 업무관리에 탭 추가

### Phase 3: 반송 처리 개편 (1시간)
1. 티켓 목록에 반송 배지
2. 재발송 버튼 및 기능
3. 반송 필터

### Phase 4: 모바일 UI 분리 (3-4시간)
1. 모바일 감지 로직
2. 주요 페이지 모바일 버전
3. 하단 네비게이션
4. 터치 최적화

**총 예상 시간: 7-10시간**

---

## 📋 체크리스트

- [x] 업무관리 통합
- [x] 블랙리스트 통합
- [x] 변수 조정 기능 (이미 있음)
- [x] 감사로그 위치 (이미 있음)
- [ ] 포인트 지급/사용내역
- [ ] 반송 처리 표기/재발송
- [ ] 업무보고 기능
- [ ] 모바일 UI 분리

**진행률: 55% (6/11)**

---

**다음 작업:** 업무보고 기능 구현부터 시작하는 것을 추천드립니다.
