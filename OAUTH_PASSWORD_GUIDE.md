# 구글 로그인 계정에 비밀번호 추가하기

## 🔍 상황 이해

현재 상태:
- ✅ **구글 로그인** 사용 중 (OAuth 인증)
- ❌ **비밀번호** 없음
- ❌ **임시 비밀번호** 시스템 사용 불가
- ❌ **username/password** 로그인 불가

---

## ✅ 해결 방법

### 방법 1: 설정에서 비밀번호 추가 (가장 쉬움! ⚡)

1. **대시보드 접속**: http://localhost:3000/dashboard
2. **설정** 메뉴 클릭 (좌측 사이드바)
3. **"비밀번호 변경"** 탭 선택
4. **"구글 로그인 계정에 비밀번호 추가"** 안내 확인
5. **새 비밀번호 입력**:
   - 새 비밀번호 (6자 이상)
   - 비밀번호 확인
6. **"비밀번호 설정"** 버튼 클릭
7. **완료!** ✅

이제:
- ✅ 구글 로그인 계속 사용 가능
- ✅ username + 비밀번호로도 로그인 가능
- ✅ 임시 비밀번호 발급 가능
- ✅ 비밀번호 변경 가능

---

### 방법 2: Supabase Dashboard에서 직접 설정

1. **https://supabase.com** 접속
2. 프로젝트 선택
3. **Authentication** > **Users**
4. 본인 이메일 찾기
5. **...** > **Reset Password**
6. 새 비밀번호 입력 (예: `mypassword123`)
7. **Update user** 클릭

그 다음 Supabase SQL Editor에서:
```sql
UPDATE users 
SET 
  is_approved = true,
  is_temp_password = false
WHERE email = '본인이메일@gmail.com';
```

---

## 🎯 로그인 방법 선택

### 옵션 A: 구글 로그인만 사용
- 현재대로 구글 로그인 버튼 클릭
- 비밀번호 필요 없음
- 가장 안전함

### 옵션 B: 비밀번호 추가 후 둘 다 사용
1. 설정에서 비밀번호 설정
2. 구글 로그인 또는 username/password 선택 가능
3. 비밀번호 관리 기능 모두 사용 가능

---

## 📋 비밀번호 추가 후 가능한 것들

✅ **구글 로그인** - 계속 사용 가능  
✅ **일반 로그인** - username + 비밀번호  
✅ **임시 비밀번호** - 비밀번호 잊었을 때 발급  
✅ **비밀번호 변경** - 설정에서 변경  
✅ **어드민 치트** - `exitadmin2026` 사용 가능  

---

## 🚀 지금 바로 하기

### 1단계: 서버 재시작 (새 API 반영)
터미널에서 Ctrl+C 후:
```bash
npm run dev
```

### 2단계: 대시보드 접속
http://localhost:3000/dashboard

### 3단계: 설정 > 비밀번호 변경 탭

### 4단계: 비밀번호 설정
- 새 비밀번호 입력
- 비밀번호 확인
- "비밀번호 설정" 클릭

### 5단계: 완료! 🎉
이제 구글 로그인과 일반 로그인을 모두 사용할 수 있습니다!

---

## 💡 추천 사항

**구글 로그인만 사용하는 것을 추천합니다:**

**장점:**
- 더 안전함 (구글이 인증 관리)
- 비밀번호 기억할 필요 없음
- 2단계 인증 자동 적용
- 비밀번호 유출 걱정 없음

**하지만 비밀번호를 추가하면:**
- 임시 비밀번호 시스템 사용 가능
- 구글 없이도 로그인 가능
- 더 많은 옵션

---

## 🔧 문제 해결

### "Service Role Key가 설정되지 않았습니다" 오류

`.env.local` 파일 확인:
```env
SUPABASE_SERVICE_ROLE_KEY=your_key_here
```

없으면 Supabase Dashboard > Settings > API에서 복사

### 비밀번호 설정 후에도 로그인 안 됨

```sql
-- Supabase SQL Editor
UPDATE users 
SET is_approved = true 
WHERE email = '본인이메일@gmail.com';
```

---

## ✨ 결론

**현재 상황:**
- 구글 로그인 사용 중
- 비밀번호 없음

**선택지:**
1. 구글 로그인만 계속 사용 (추천)
2. 비밀번호 추가해서 둘 다 사용

**둘 다 좋은 선택입니다!** 🎉
